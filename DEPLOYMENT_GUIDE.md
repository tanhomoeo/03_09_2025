# Next.js অ্যাপ্লিকেশন Firebase-এ ডিপ্লয়মেন্ট গাইড

এই নির্দেশিকাটি আপনার Next.js অ্যাপ্লিকেশনটি Firebase প্ল্যাটফর্মে (Firestore ডাটাবেস এবং Firebase App Hosting ব্যবহার করে) ডিপ্লয় করার জন্য একটি ধাপে ধাপে গাইড প্রদান করবে।

## পূর্বশর্ত

1.  **Node.js এবং npm/yarn:** আপনার সিস্টেমে ইনস্টল করা থাকতে হবে।
2.  **Git এবং GitHub অ্যাকাউন্ট:** আপনার একটি GitHub অ্যাকাউন্ট থাকতে হবে এবং আপনার সিস্টেমে Git ইনস্টল করা থাকতে হবে।
3.  **Firebase অ্যাকাউন্ট:** আপনার একটি Firebase অ্যাকাউন্ট থাকতে হবে ([firebase.google.com](https://firebase.google.com))।
4.  **Firebase CLI:** ইনস্টল করা না থাকলে, টার্মিনালে এই কমান্ডটি চালান:
    ```bash
    npm install -g firebase-tools
    ```

---

## ধাপ ০: লোকাল প্রজেক্ট এবং GitHub রিপোজিটরি কানেকশন

ডিপ্লয়মেন্টের আগে, আপনার লোকাল কোড একটি GitHub রিপোজিটরিতে থাকা আবশ্যক।

### ক. যদি আপনার প্রজেক্ট কোনো রিপোজিটরিতে না থাকে:
1.  **GitHub**-এ একটি নতুন রিপোজিটরি তৈরি করুন (যেমন `dr-nihar-app`)।
2.  আপনার লোকাল প্রজেক্ট ফোল্ডারে টার্মিনাল খুলে নিচের কমান্ডগুলো চালান:
    ```bash
    git init -b main
    git add .
    git commit -m "Initial commit"
    git remote add origin [আপনার_নতুন_রিপোজিটরির_URL]
    git push -u origin main
    ```

### খ. যদি আপনি রিপোজিটরি পরিবর্তন করতে চান:
আপনি যদি বর্তমান কানেক্ট করা রিপোজিটরি পরিবর্তন করে নতুন কোনো রিপোজিটরিতে কোড পুশ করতে চান, তাহলে নিচের ধাপগুলো অনুসরণ করুন:

1.  **GitHub**-এ একটি নতুন এবং **খালি (empty)** রিপোজিটরি তৈরি করুন।
2.  আপনার লোকাল প্রজেক্টের টার্মিনালে গিয়ে প্রথমে পুরোনো রিপোজিটরির কানেকশন মুছে ফেলুন:
    ```bash
    git remote remove origin
    ```
3.  এরপর, নতুন রিপোজিটরির সাথে কানেকশন স্থাপন করুন:
    ```bash
    git remote add origin [আপনার_নতুন_রিপোজিটরির_URL]
    ```
4.  সবশেষে, আপনার কোড নতুন রিপোজিটরিতে পুশ করুন:
    ```bash
    git push -u origin main
    ```

---

## ধাপ ১: Firebase প্রজেক্ট তৈরি এবং কনফিগারেশন

1.  **Firebase Console**-এ যান ([console.firebase.google.com](https://console.firebase.google.com)) এবং একটি নতুন প্রজেক্ট তৈরি করুন (যেমন `dr-nihar`)।
2.  **Firestore Database:** আপনার প্রজেক্টের **Build > Firestore Database** সেকশনে গিয়ে ডাটাবেস তৈরি করুন।
3.  **App Hosting:** আপনার প্রজেক্টের **Build > App Hosting** সেকশনে গিয়ে একটি নতুন ব্যাকএন্ড তৈরি করুন। ব্যাকএন্ড তৈরি করার সময় আপনার GitHub অ্যাকাউন্ট কানেক্ট করুন এবং যে রিপোজিটরিতে কোডটি রয়েছে, সেটি নির্বাচন করুন।

---

## ধাপ ২: AI ফিচারের জন্য Google AI API কী সেটআপ

আপনার অ্যাপ্লিকেশনের "AI অভিযোগ সারাংশ"-এর মতো ফিচারগুলো ব্যবহার করার জন্য একটি বিনামূল্যে Google AI API কী প্রয়োজন হবে।

### ক. API কী তৈরি করুন
1.  **Google AI Studio** ওয়েবসাইটে যান: [aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)
2.  আপনার Google অ্যাকাউন্ট দিয়ে লগইন করুন।
3.  "Create API key in new project" বাটনে ক্লিক করে একটি নতুন API কী তৈরি করুন এবং সেটি কপি করে নিন।

### খ. লোকাল কম্পিউটারে API কী সেট করুন
1.  আপনার প্রজেক্টের রুট ফোল্ডারে `.env` নামে একটি ফাইল রয়েছে।
2.  ফাইলটি খুলুন এবং নিচের মতো করে আপনার কপি করা API কী-টি পেস্ট করুন:
    ```
    GEMINI_API_KEY="আপনার_কপি_করা_API_কী_এখানে_দিন"
    ```

### গ. লাইভ সার্ভারের জন্য API কী সেট করুন
1.  Firebase Console-এ আপনার App Hosting ব্যাকএন্ডের ড্যাশবোর্ডে যান।
2.  **Settings** ট্যাবে যান এবং **Environment variables** সেকশনে `Add variable`-এ ক্লিক করুন।
3.  `Variable name`-এ `GEMINI_API_KEY` এবং `Value`-এর ঘরে আপনার কপি করা API কী-টি পেস্ট করে সেভ করুন।

---

## ধাপ ৩: স্বয়ংক্রিয় ডিপ্লয়মেন্টের জন্য GitHub সিক্রেট সেটআপ

আপনার অ্যাপ্লিকেশনটি GitHub থেকে স্বয়ংক্রিয়ভাবে Firebase-এ ডিপ্লয় হওয়ার জন্য একটি **Service Account Key** প্রয়োজন।

### ক. Service Account Key তৈরি করুন
1.  Firebase Console-এ আপনার প্রজেক্টের বাম পাশের গিয়ার আইকনে ⚙️ ক্লিক করে **Project settings**-এ যান।
2.  **Service accounts** ট্যাবটি নির্বাচন করুন।
3.  "Generate new private key" বাটনে ক্লিক করুন। একটি সতর্কতা বার্তা দেখালে "Generate key" বাটনে ক্লিক করুন।
4.  আপনার কম্পিউটারে একটি JSON ফাইল ডাউনলোড হবে। ফাইলটি খুলুন এবং এর ভেতরের সম্পূর্ণ টেক্সট কপি করে নিন।

### খ. GitHub রিপোজিটরিতে সিক্রেট যোগ করুন
1.  আপনার GitHub রিপোজিটরিতে যান এবং **Settings** ট্যাবে ক্লিক করুন।
2.  বাম পাশের মেন্যু থেকে **Secrets and variables > Actions**-এ যান।
3.  **New repository secret** বাটনে ক্লিক করুন।
4.  `Name`-এর ঘরে `FIREBASE_SERVICE_ACCOUNT_DR_NIHAR` লিখুন।
5.  `Secret`-এর ঘরে আপনার কপি করা JSON ফাইলের সম্পূর্ণ কন্টেন্ট পেস্ট করুন এবং **Add secret** বাটনে ক্লিক করুন।

---

## ধাপ ৪: ডিপ্লয়মেন্ট

উপরের ধাপগুলো সঠিকভাবে সম্পন্ন করার পর, আপনি যখনই আপনার GitHub রিপোজিটরির `main` ব্রাঞ্চে কোনো পরিবর্তন পুশ করবেন, GitHub Actions স্বয়ংক্রিয়ভাবে আপনার অ্যাপ্লিকেশনটি বিল্ড করে Firebase App Hosting-এ ডিপ্লয় করে দেবে।

আপনি আপনার App Hosting ড্যাশবোর্ডে ডিপ্লয়মেন্টের স্ট্যাটাস দেখতে পারবেন।
