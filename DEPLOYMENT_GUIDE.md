# Next.js অ্যাপ্লিকেশন Firebase-এ ডিপ্লয়মেন্ট গাইড

এই নির্দেশিকাটি আপনার Next.js অ্যাপ্লিকেশনটি Firebase প্ল্যাটফর্মে (Firestore ডাটাবেস এবং Firebase App Hosting ব্যবহার করে) ডিপ্লয় করার জন্য একটি ধাপে ধাপে গাইড প্রদান করবে।

## পূর্বশর্ত

1.  **Node.js এবং npm/yarn:** আপনার সিস্টেমে ইনস্টল করা থাকতে হবে।
2.  **Firebase অ্যাকাউন্ট:** আপনার একটি Firebase অ্যাকাউন্ট থাকতে হবে ([firebase.google.com](https://firebase.google.com))।
3.  **Firebase CLI:** ইনস্টল করা না থাকলে, টার্মিনালে এই কমান্ডটি চালান:
    ```bash
    npm install -g firebase-tools
    ```
4.  **Firebase-এ লগইন:** টার্মিনালে এই কমান্ডটি ব্যবহার করে আপনার Firebase অ্যাকাউন্টে লগইন করুন:
    ```bash
    firebase login
    ```

---

## পদ্ধতি ১: লোকাল কম্পিউটারে চালানো এবং AI ফিচার চালু করা

আপনার লোকাল মেশিনে অ্যাপ্লিকেশনটি চালানোর জন্য এবং "AI অভিযোগ সারাংশ"-এর মতো ফিচারগুলো ব্যবহার করার জন্য একটি বিনামূল্যে Google AI API কী প্রয়োজন হবে।

### ধাপ ১: বিনামূল্যে Google AI API কী তৈরি করুন
1.  **Google AI Studio** ওয়েবসাইটে যান: [aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)
2.  আপনার Google অ্যাকাউন্ট দিয়ে লগইন করুন।
3.  "Create API key in new project" বাটনে ক্লিক করুন।
    
4.  কিছুক্ষণ অপেক্ষা করার পর, আপনার জন্য একটি নতুন API কী তৈরি হয়ে যাবে। সেই কী-টি কপি করে নিন। এটি দেখতে `AIza...` দিয়ে শুরু একটি লম্বা টেক্সট হবে।

### ধাপ ২: লোকাল কম্পিউটারে API কী সেট করুন
1.  আপনার প্রজেক্টের রুট ফোল্ডারে `.env` নামে একটি ফাইল রয়েছে।
2.  ফাইলটি খুলুন এবং নিচের মতো করে আপনার কপি করা API কী-টি পেস্ট করুন:
    ```
    GOOGLE_GENAI_API_KEY="আপনার_কপি_করা_API_কী_এখানে_দিন"
    ```
    উদাহরণস্বরূপ: `GOOGLE_GENAI_API_KEY="AIzaSyXXXXXXXXXXXXXXXXXXX"`

### ধাপ ৩: অ্যাপ্লিকেশন চালান
1.  টার্মিনালে `npm install` কমান্ডটি চালিয়ে প্রয়োজনীয় সকল প্যাকেজ ইনস্টল করুন।
2.  এরপর `npm run dev` কমান্ডটি চালিয়ে আপনার লোকাল সার্ভার চালু করুন।
3.  এখন ব্রাউজারে `http://localhost:3000` ভিজিট করুন।

এই ধাপগুলো সম্পন্ন করার পর, আপনার "AI অভিযোগ সারাংশ" ফিচারটি লোকাল কম্পিউটারে সঠিকভাবে কাজ করা শুরু করবে। Google-এর ফ্রি টিয়ার আপনার ব্যক্তিগত ব্যবহারের জন্য যথেষ্ট।

---

## পদ্ধতি ২: Firebase-এ পাবলিশ (ডিপ্লয়) করা

আপনার অ্যাপ্লিকেশনটি ইন্টারনেটে লাইভ করার জন্য এই ধাপগুলো অনুসরণ করুন।

### ধাপ ১. Firebase প্রজেক্ট সেটআপ
*   Firebase Console-এ যান ([console.firebase.google.com](https://console.firebase.google.com)) এবং একটি নতুন প্রজেক্ট তৈরি করুন অথবা বিদ্যমান একটি প্রজেক্ট (যেমন `dr-nihar`) নির্বাচন করুন।
*   **Firestore Database:** আপনার Firebase প্রজেক্টের **Build > Firestore Database** সেকশনে গিয়ে ডাটাবেস তৈরি করুন।
*   **App Hosting:** আপনার Firebase প্রজেক্টের **Build > App Hosting** সেকশনে গিয়ে একটি নতুন ব্যাকএন্ড তৈরি করুন।

### ধাপ ২. লোকাল প্রজেক্টের সাথে Firebase কানেক্ট করা
আপনার লোকাল কোডটি কোন Firebase প্রজেক্টে ডিপ্লয় হবে তা নির্দিষ্ট করতে নিচের কমান্ডটি ব্যবহার করুন এবং তালিকা থেকে আপনার প্রজেক্টটি নির্বাচন করুন।
```bash
firebase use --add
```

### ধাপ ৩. প্রোডাকশনের জন্য API Key সেটআপ
অ্যাপ্লিকেশনটি লাইভ সার্ভারেও AI ফিচার ব্যবহারের জন্য আপনার API কী-টি চিনিয়ে দিতে হবে।
*   Firebase Console-এ আপনার App Hosting ব্যাকএন্ডের ড্যাশবোর্ডে যান।
*   **Settings** ট্যাবে যান এবং **Environment variables** সেকশনে `Add variable`-এ ক্লিক করুন।
*   `Variable name`-এ `GOOGLE_GENAI_API_KEY` এবং `Value`-এর ঘরে আপনার কপি করা API কী-টি পেস্ট করে সেভ করুন।

### ধাপ ৪. অ্যাপ্লিকেশন ডিপ্লয় করা
আপনার `firebase.json` ফাইলে `frameworksBackend` কনফিগার করা আছে, তাই Firebase CLI স্বয়ংক্রিয়ভাবে বিল্ড ও ডিপ্লয় করবে।
```bash
firebase deploy --only hosting
```
এই কমান্ডটি আপনার Next.js অ্যাপ্লিকেশনটিকে বিল্ড করে Firebase App Hosting-এ আপলোড করবে।

---

### Firestore নিরাপত্তা বিধি (Security Rules) আপডেট
আপনার `firestore.rules` ফাইলটি বর্তমানে সম্পূর্ণ খোলা (`allow read, write: if true;`), যা প্রোডাকশনের জন্য অনিরাপদ। আপনাকে অবশ্যই এই বিধিগুলো পরিবর্তন করে আপনার অ্যাপ্লিকেশনের নিরাপত্তা চাহিদা অনুযায়ী সেট করতে হবে এবং `firebase deploy --only firestore:rules` কমান্ড দিয়ে ডিপ্লয় করতে হবে।
