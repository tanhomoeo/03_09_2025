
# ত্রিফুল আরোগ্য নিকেতন - অ্যাপ্লিকেশন ডকুমেন্টেশন

এই ডকুমেন্টটি "ত্রিফুল আরোগ্য নিকেতন" অ্যাপ্লিকেশনটির গঠন, প্রযুক্তি, এবং কার্যকারিতা সম্পর্কে একটি বিস্তারিত বিবরণ প্রদান করে।

---

## ১. ব্যবহৃত প্রধান প্রযুক্তি

*   **ফ্রেমওয়ার্ক:** Next.js (React Framework)
*   **ভাষা:** TypeScript
*   **স্টাইলিং:** Tailwind CSS
*   **UI কম্পোনেন্ট:** ShadCN UI
*   **ডাটাবেস ও অথেন্টিকেশন:** Firebase (Firestore, Authentication)
*   **হোস্টিং:** Firebase App Hosting
*   **AI সুবিধা:** Google Genkit (Gemini মডেল)
*   **ভয়েস টাইপিং:** Web Speech API (ব্রাউজার ভিত্তিক)

---

## ২. প্রজেক্টের ফোল্ডার গঠন (Project Structure)

অ্যাপ্লিকেশনটির কোডগুলো একটি সুনির্দিষ্ট ফোল্ডার কাঠামোতে সাজানো হয়েছে, যা নিচে বর্ণনা করা হলো:

*   **`src/app/`**: এটি Next.js অ্যাপ্লিকেশনের মূল কেন্দ্র, যেখানে সমস্ত পেজ এবং লেআউট থাকে।
    *   **`(app)/`**: এই ফোল্ডারে থাকা সমস্ত পেজ ব্যবহারকারী লগইন করার পরেই কেবল অ্যাক্সেস করতে পারে। এটি একটি সুরক্ষিত রুট গ্রুপ।
        *   `dashboard/`: অ্যাপ্লিকেশনের প্রধান ড্যাশবোর্ড।
        *   `entry/`: নতুন রোগী নিবন্ধন করার পেজ।
        *   `search/`: নিবন্ধিত রোগীদের খুঁজে বের করার পেজ।
        *   `dictionary/`: বর্ণমালা অনুযায়ী রোগীদের তালিকা দেখানোর পেজ।
        *   `report/`: দৈনিক, সাপ্তাহিক, মাসিক বা কাস্টম রিপোর্ট তৈরির পেজ।
        *   `slip/`: সকল পেমেন্ট স্লিপ খোঁজার এবং দেখার পেজ।
        *   `prescription/[patientId]/`: নির্দিষ্ট রোগীর জন্য প্রেসক্রিপশন তৈরি বা এডিট করার পেজ।
        *   `ai-summary/`: AI ব্যবহার করে রোগীর অভিযোগ বিশ্লেষণ করার পেজ।
        *   `medicine-instructions/`: ঔষধ খাওয়ার নিয়মাবলী প্রিন্ট করার পেজ।
        *   `clinic-information/`: ক্লিনিকের তথ্য (নাম, ঠিকানা) সেট করার পেজ।
        *   `settings/`: অ্যাপ্লিকেশনের বিভিন্ন সেটিংস (যেমন: থিম, ডেটা এক্সপোর্ট) পরিচালনা করার পেজ।
        *   `store-management/`, `personal-expenses/`: ভবিষ্যৎ ফিচারের জন্য সংরক্ষিত দুটি পেজ (বর্তমানে "Coming Soon" দেখানো হয়)।
    *   **`page.tsx`**: এটি অ্যাপ্লিকেশনের প্রধান **লগইন পেজ**। ব্যবহারকারীকে এখান থেকেই লগইন করতে হয়।
    *   **`layout.tsx`**: এটি সম্পূর্ণ অ্যাপ্লিকেশনের মূল লেআউট। এখানে থিম, অথেন্টিকেশন এবং অন্যান্য গ্লোবাল কনফিগারেশন যুক্ত করা আছে।
    *   **`globals.css`**: অ্যাপ্লিকেশনের সার্বিক ডিজাইন, যেমন রঙ, ফন্ট এবং অন্যান্য স্টাইল এখানে নির্ধারণ করা হয়।

*   **`src/components/`**: পুনরায় ব্যবহারযোগ্য UI কম্পোনেন্টগুলো এখানে থাকে।
    *   **`shared/`**: বিভিন্ন পেজে ব্যবহৃত সাধারণ কম্পোনেন্ট, যেমন: `AppSidebar`, `PageHeaderCard` এবং `FloatingVoiceInput`।
    *   **`ui/`**: ShadCN UI লাইব্রেরি থেকে তৈরি করা বেস কম্পোনেন্ট (যেমন: Button, Card, Input)।
    *   **`patient/`**: রোগী সম্পর্কিত কম্পোনেন্ট, যেমন `PatientDetailsModal` (রোগীর বিস্তারিত তথ্য দেখানোর মডাল)।
    *   **`slip/`**: পেমেন্ট স্লিপ সম্পর্কিত কম্পোনেন্ট (যেমন: `CreatePaymentSlipModal`, `PaymentSlipModal`)।

*   **`src/lib/`**: অ্যাপ্লিকেশনের মূল লজিক, ফাংশন এবং সার্ভিসগুলো এখানে থাকে।
    *   **`firebase.ts`**: Firebase সংযোগ স্থাপন এবং কনফিগারেশনের জন্য ব্যবহৃত হয়।
    *   **`firestoreService.ts`**: **সবচেয়ে গুরুত্বপূর্ণ ফাইলগুলোর মধ্যে একটি।** Firestore ডাটাবেস থেকে তথ্য আনা, নতুন তথ্য যোগ করা বা আপডেট করার সমস্ত ফাংশন (যেমন: `getPatients`, `addVisit`, `getClinicSettings`) এখানে লেখা আছে।
    *   **`constants.ts`**: পুরো অ্যাপ্লিকেশনে ব্যবহৃত ধ্রুবক বা কনস্ট্যান্ট (যেমন: বিভিন্ন রুটের নাম, অ্যাপের নাম) এখানে রাখা হয়।
    *   **`types.ts`**: TypeScript-এর জন্য বিভিন্ন ডেটা মডেলের (যেমন: Patient, Visit, Prescription) গঠন বা schema এখানে ডিফাইন করা আছে।
    *   **`utils.ts`**: ছোটখাটো সাহায্যকারী ফাংশন এখানে থাকে।

*   **`src/ai/`**: Genkit এবং AI সম্পর্কিত সমস্ত কোড এখানে রয়েছে।
    *   **`genkit.ts`**: Genkit ইন্সট্যান্স শুরু করার জন্য ব্যবহৃত হয়।
    *   **`flows/complaint-analyzer-flow.ts`**: রোগীর অভিযোগ বিশ্লেষণ করে সারাংশ এবং সম্ভাব্য ঔষধের তালিকা তৈরির জন্য যে AI ফ্লো ব্যবহার করা হয়, সেটি এখানে লেখা আছে।

*   **`src/contexts/`**: React Context API ব্যবহার করে গ্লোবাল স্টেট ম্যানেজমেন্ট করা হয়।
    *   **`AuthContext.tsx`**: ব্যবহারকারীর লগইন অবস্থা (user session) পরিচালনা করে এবং সুরক্ষিত পেজগুলোতে অ্যাক্সেস নিয়ন্ত্রণ করে।

*   **`public/`**: স্ট্যাটিক ফাইল, যেমন ছবি, আইকন (`favicon.ico`) ইত্যাদি এখানে রাখা হয়।

---

## ৩. প্রধান ফিচার এবং কার্যকারিতা

#### ক. লগইন ও ড্যাশবোর্ড
*   **লগইন (`/src/app/page.tsx`):** ব্যবহারকারী ইমেইল/পাসওয়ার্ড বা Google অ্যাকাউন্ট দিয়ে লগইন করতে পারেন। `AuthContext` ব্যবহারকারীর লগইন অবস্থা যাচাই করে।
*   **ড্যাশবোর্ড (`/src/app/(app)/dashboard/page.tsx`):** লগইন করার পর এটিই প্রথম পেজ। এখানে Quick Actions, দৈনিক ও মাসিক কার্যকলাপের সারাংশ এবং আজকের সাক্ষাতের তালিকা দেখা যায়।

#### খ. রোগী ব্যবস্থাপনা
*   **নতুন রোগী ভর্তি (`/src/app/(app)/entry/page.tsx`):** নতুন রোগীর তথ্য (নাম, ফোন, ঠিকানা ইত্যাদি) এখানে নিবন্ধন করা হয় এবং `addPatient` ফাংশনের মাধ্যমে Firestore-এ সেভ করা হয়।
*   **রোগী অনুসন্ধান (`/src/app/(app)/search/page.tsx`):** নাম, ডায়েরি নম্বর বা ফোন নম্বর দিয়ে যেকোনো রোগীকে দ্রুত খুঁজে বের করা যায়। এখান থেকে রোগীর বিস্তারিত তথ্য দেখা, নতুন ভিজিট যুক্ত করা বা প্রেসক্রিপশন তৈরির কাজ শুরু করা যায়।
*   **রোগীর তালিকা (`/src/app/(app)/dictionary/page.tsx`):** বাংলা বর্ণমালা অনুযায়ী সকল নিবন্ধিত রোগীদের তালিকা দেখা যায়।

#### গ. চিকিৎসা ও প্রেসক্রিপশন
*   **প্রেসক্রিপশন তৈরি (`/src/app/(app)/prescription/[patientId]/page.tsx`):** রোগীর ভিজিটের উপর ভিত্তি করে প্রেসক্রিপশন তৈরি করা হয়। এখানে ঔষধের নাম, মাত্রা, সময়কাল ইত্যাদি যুক্ত করে প্রিন্ট করা যায়।
*   **ঔষধের নিয়মাবলী (`/src/app/(app)/medicine-instructions/page.tsx`):** প্রেসক্রিপশনের পাশাপাশি শুধু ঔষধ খাওয়ার নিয়মাবলী আলাদাভাবে প্রিন্ট করার জন্য এই পেজটি ব্যবহৃত হয়। এখানে দুটি ভিন্ন টেমপ্লেট রয়েছে।
*   **AI অভিযোগ সারাংশ (`/src/app/(app)/ai-summary/page.tsx`):** রোগীর অভিযোগ এখানে লিখে বা ভয়েস টাইপিং করে দিলে, `complaint-analyzer-flow.ts`-এ থাকা AI ফ্লো সেটি বিশ্লেষণ করে একটি সারাংশ এবং কিছু সম্ভাব্য ঔষধের তালিকা তৈরি করে।

#### ঘ. ভয়েস টাইপিং
*   **ভাসমান ভয়েস বাটন (`/src/components/shared/FloatingVoiceInput.tsx`):** এটি একটি গ্লোবাল কম্পোনেন্ট যা সব পেজের উপরে ভেসে থাকে। কীবোর্ডের `Control` কী চেপে ধরে কথা বললে যেকোনো ইনপুট ফিল্ডে স্বয়ংক্রিয়ভাবে বাংলা টাইপ হয়ে যায়। এটি Web Speech API ব্যবহার করে কাজ করে।

#### ঙ. রিপোর্ট এবং স্লিপ
*   **প্রতিবেদন (`/src/app/(app)/report/page.tsx`):** দৈনিক, সাপ্তাহিক, মাসিক বা নির্দিষ্ট তারিখের পরিসরে মোট ভিজিট এবং আয়ের রিপোর্ট তৈরি করা যায়।
*   **পেমেন্ট স্লিপ (`/src/app/(app)/slip/page.tsx`):** সকল পেমেন্টের রেকর্ড বা স্লিপ এখানে খোঁজা যায় এবং বিস্তারিত দেখা যায়।

#### চ. সেটিংস
*   **ক্লিনিকের তথ্য (`/src/app/(app)/clinic-information/page.tsx`):** প্রেসক্রিপশন এবং রিপোর্টে প্রদর্শনের জন্য ক্লিনিকের নাম, ডাক্তারের নাম, ঠিকানা ইত্যাদি এখানে সেট করা হয়, যা `getClinicSettings` ও `saveClinicSettings` ফাংশনের মাধ্যমে Firestore-এ সংরক্ষিত হয়।
*   **অ্যাপ সেটিংস (`/src/app/(app)/settings/page.tsx`):** অ্যাপ্লিকেশনের থিম (Light/Dark) পরিবর্তন এবং সকল ডেটা JSON ফরম্যাটে এক্সপোর্ট করার সুবিধা এখানে রয়েছে।

---

## ৪. অ্যাপ্লিকেশন চালানো এবং ডিপ্লয়মেন্ট

*   **লোকাল মেশিনে চালানো:**
    1.  প্রয়োজনীয় প্যাকেজ ইনস্টল: `npm install`
    2.  ডেভেলপমেন্ট সার্ভার চালু: `npm run dev`
    3.  ব্রাউজারে `http://localhost:3000` ভিজিট করুন।

*   **Firebase-এ ডিপ্লয়মেন্ট:**
    *   অ্যাপ্লিকেশনটি Firebase-এ ডিপ্লয় করার জন্য বিস্তারিত নির্দেশিকা [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) ফাইলে দেখুন।
# dr-nihar
